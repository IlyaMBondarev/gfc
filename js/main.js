(()=>{document.querySelector(".page").classList.add("loaded");let e=document.getElementById("burger"),t=document.querySelector(".header").querySelectorAll("ul"),i=document.querySelectorAll(".toScroll"),l=document.querySelector(".specialScroll").querySelector(".about__rows").querySelectorAll(".about__row");i.forEach((e=>{e.offsetTop>document.documentElement.scrollTop+.8*document.documentElement.clientHeight&&e.classList.add("hidden")})),l.forEach((e=>{e.offsetTop>document.documentElement.scrollTop+.8*document.documentElement.clientHeight&&e.classList.add("row-hidden")})),window.addEventListener("scroll",(function(){i.forEach((e=>{e.offsetTop<=document.documentElement.scrollTop+.8*document.documentElement.clientHeight&&(e.classList.add("visible"),e.classList.remove("hidden"))})),l.forEach((e=>{e.offsetTop<=document.documentElement.scrollTop+.8*document.documentElement.clientHeight&&(e.classList.add("row-visible"),e.classList.remove("row-hidden"))}))})),t.forEach((t=>{let l=t.querySelectorAll("a");for(let t=0;t<l.length;t++)l[t].addEventListener("click",(l=>{l.preventDefault(),i[t]&&(i[t].scrollIntoView({behavior:"smooth"}),e.checked=!1)}))}));let s=document.querySelector(".offer__items").querySelectorAll(".item"),r=-1,o=document.querySelector(".offer__navigation"),c=o.querySelector(".offer__prev"),a=o.querySelector(".offer__next");for(let e=0;e<s.length;e++)s[e].addEventListener("click",(()=>{if(document.documentElement.scrollWidth>1270)if(r!==s[e]){-1!==r&&(s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_ver").classList.add("item__title-visible")),r=e,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[r].querySelector(".item__title_ver").classList.remove("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[e].querySelector(".item__title_ver").classList.add("item__title-visible"))}else{s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_hor").classList.add("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.add("item__title-visible"),s[e].querySelector(".item__title_ver").classList.remove("item__title-visible"));r=-1}else s[r]!==s[e]?(-1!==r&&(s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_hor").classList.add("item__title-visible")),r=e,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible")):(s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_hor").classList.add("item__title-visible"),r=-1)}));document.addEventListener("click",(e=>{let t=!1;if(s.forEach((i=>t=!!i.contains(e.target)||t)),!t&&!o.contains(e.target))if(document.documentElement.scrollWidth>1270){if(-1!==r){s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_ver").classList.add("item__title-visible");for(let e=0;e<s.length;e++)s[e].querySelector(".item__title_hor").classList.add("item__title-visible"),s[e].querySelector(".item__title_ver").classList.remove("item__title-visible");r=-1}}else-1!==r&&(s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_hor").classList.add("item__title-visible"),r=-1);t=!1})),a.addEventListener("click",(()=>{if(-1===r){r=0,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[r].querySelector(".item__title_ver").classList.remove("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[e].querySelector(".item__title_ver").classList.add("item__title-visible"))}else if(r===s.length-1){s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_ver").classList.add("item__title-visible"),r=0,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[r].querySelector(".item__title_ver").classList.remove("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[e].querySelector(".item__title_ver").classList.add("item__title-visible"))}else{s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_ver").classList.add("item__title-visible"),r++,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[r].querySelector(".item__title_ver").classList.remove("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[e].querySelector(".item__title_ver").classList.add("item__title-visible"))}})),c.addEventListener("click",(()=>{if(-1===r){r=s.length-1,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[r].querySelector(".item__title_ver").classList.remove("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[e].querySelector(".item__title_ver").classList.add("item__title-visible"))}else if(0===r){s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_ver").classList.add("item__title-visible"),r=s.length-1,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[r].querySelector(".item__title_ver").classList.remove("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[e].querySelector(".item__title_ver").classList.add("item__title-visible"))}else{s[r].classList.remove("item-active"),s[r].querySelector(".mask").classList.remove("mask-visible"),s[r].querySelector(".item__title_ver").classList.add("item__title-visible"),r--,s[r].classList.add("item-active"),s[r].querySelector(".mask").classList.add("mask-visible"),s[r].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[r].querySelector(".item__title_ver").classList.remove("item__title-visible");for(let e=0;e<s.length;e++)e!==r&&(s[e].querySelector(".item__title_hor").classList.remove("item__title-visible"),s[e].querySelector(".item__title_ver").classList.add("item__title-visible"))}}));document.getElementById("svg");let m=document.getElementById("map"),_=document.getElementById("svg-paths"),d=[[3,0,200],[6,3,150],[5,6,200],[4,6,200],[2,4,150],[7,0,150],[1,7,250],[8,5,200],[9,8,200],[10,9,200],[11,10,200]],v=document.getElementById("svg").querySelectorAll("img"),n=1,u=1;function h(e){let t="+7 (___) ___-__-__",i=0,l=t.replace(/\D/g,""),s=this.value.replace(/\D/g,"");l.length>=s.length&&(s=l),this.value=t.replace(/./g,(function(e){return/[_\d]/.test(e)&&i<s.length?s.charAt(i++):i>=s.length?"":e})),"blur"===e.type&&2===this.value.length&&(this.value="")}$(document).ready((function(){m.style.opacity="1",setTimeout((()=>{for(let e=0;e<v.length;e++)setTimeout((()=>{v[e].style.animation="1s svg-show forwards"}),600*(e+1))}),300),setTimeout((()=>{document.documentElement.scrollWidth<500?(n=.25,u=.5):document.documentElement.scrollWidth<1281&&(n=.5,u=.75);for(let e=0;e<d.length;e++){let t=v[d[e][0]].offsetLeft+v[d[e][0]].offsetWidth/2,i=v[d[e][0]].offsetTop+v[d[e][0]].offsetHeight/2,l=v[d[e][1]].offsetLeft+v[d[e][1]].offsetWidth/2,s=v[d[e][1]].offsetTop+v[d[e][1]].offsetHeight/2,r=`<path d="M${t} ${i} C ${t} ${i-n*d[e][2]}, ${l} ${s-n*d[e][2]} ${l} ${s}" stroke="white" fill="transparent" class="svg-path" stroke-width="2"></path>`;_.innerHTML+=r}}),300*v.length),setTimeout((()=>{let e=_.querySelectorAll(".svg-path");for(let t=0;t<e.length;t++)e[t].style.opacity="1",e[t].style.strokeDasharray=`0 ${500*u} 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5`,e[t].style.transitionDelay=.8*t+"s",e[t].style.strokeDashoffset=""+500*u}),300*v.length+20)})),$(window).resize((function(){document.documentElement.scrollWidth<500?(n=.25,u=.5):document.documentElement.scrollWidth<1281?(n=.5,u=.75):(n=1,u=1),_.innerHTML="";for(let e=0;e<d.length;e++){let t=v[d[e][0]].offsetLeft+v[d[e][0]].offsetWidth/2,i=v[d[e][0]].offsetTop+v[d[e][0]].offsetHeight/2,l=v[d[e][1]].offsetLeft+v[d[e][1]].offsetWidth/2,s=v[d[e][1]].offsetTop+v[d[e][1]].offsetHeight/2,r=`<path d="M${t} ${i} C ${t} ${i-n*d[e][2]}, ${l} ${s-n*d[e][2]} ${l} ${s}" stroke="white" fill="transparent" class="svg-path" stroke-width="2"></path>`;_.innerHTML+=r}setTimeout((()=>{let e=_.querySelectorAll(".svg-path");for(let t=0;t<e.length;t++)e[t].style.opacity="1",e[t].style.strokeDasharray=`0 ${500*u} 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5 5`,e[t].style.transitionDelay=.8*t+"s",e[t].style.strokeDashoffset=""+500*u}),20)}));let L=document.querySelectorAll("._phone");if(L.forEach((e=>e.addEventListener("input",h,!1))),L.forEach((e=>e.addEventListener("focus",h,!1))),L.forEach((e=>e.addEventListener("blur",h,!1))),$(".popup-callback-bg").length){let e=document.querySelector(".popup-callback-bg"),t=document.querySelectorAll(".popup-callback-open-btn"),i=e.querySelector(".popup-callback__close"),l=e.querySelector(".popup-callback__form"),s=document.querySelector(".popup-thanks-bg"),r=s.querySelectorAll(".popup-thanks__close");l.addEventListener("submit",(t=>{t.preventDefault(),0===function(e){let t=0,i=e.querySelectorAll("._req");for(let e=0;e<i.length;e++){const l=i[e];l.classList.remove("_error"),l.classList.contains("_phone")?l.value.length<18&&(l.classList.add("_error"),t++):(l.value.length<3||l.value.length>32)&&(l.classList.add("_error"),t++)}return t}(l)&&(s.classList.add("popup-thanks-bg-visible"),e.classList.remove("popup-callback-bg-visible"))})),t.forEach((t=>{t.addEventListener("click",(()=>{e.classList.add("popup-callback-bg-visible")}))})),e.addEventListener("click",(t=>{t.target===e&&e.classList.remove("popup-callback-bg-visible")})),i.addEventListener("click",(()=>{e.classList.remove("popup-callback-bg-visible")})),s.addEventListener("click",(e=>{e.target===s&&s.classList.remove("popup-thanks-bg-visible")})),r.forEach((e=>{e.addEventListener("click",(()=>{s.classList.remove("popup-thanks-bg-visible")}))}))}})();